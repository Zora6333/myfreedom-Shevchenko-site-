<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./NASA.css">
    <script src="./NASA.js" defer></script>
    <title>Random images from NASA satellites</title>
</head>

<body>
    <header>
        <div class="icon">
            <img class="icon-logo" src="./Img/favicon-192.png">
        </div>
        <nav class="navigation-menu">
            <ul>
                <li><a>Home</a></li>
                <li><a>News</a></li>
                <li><a>About</a></li>
                <li><a>Сontacts</a></li>
            </ul>
        </nav>
    </header>


    <main>
        <div class="btn-previous"><a href="#" class="previous">&laquo; Previous</a>
            </div>
        <div id="slider"></div>
        <div id="nav"></div>
        <div class="btn-next"><a href="#" class="next">Next &raquo;</a></div>
    </main>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <footer>
        <div class="author">
            <div class="btn-up"><button><img
                        src="./Img/up-arrow-solid-black-square-button_icon-icons.com_72898.png"></button></div>
            <p>•ᴗ• Made by Georgy Shevchenko •ᴗ• </p>
        </div>
    </footer>

</body>

</html>





* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: rgb(193, 193, 215);
  background: linear-gradient(
    281deg,
    rgba(193, 193, 215, 1) 0%,
    rgba(163, 172, 176, 1) 8%,
    rgba(121, 133, 133, 1) 13%,
    rgba(28, 30, 31, 1) 22%,
    rgba(46, 49, 60, 1) 62%
  );
  background-size: cover;
  background-repeat: no-repeat;
  width: 100%;
  height: 1300px;
}
header {
  display: flex;
  justify-content: center;
  flex-direction: row;
  justify-content: space-between;
  position: fixed;
  background-color: rgb(255, 255, 255);
  width: 100%;
  height: 100px;
}
header nav {
  width: 50%;
}
header .navigation-menu {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 50%;
  padding-right: 100px;
}
header .navigation-menu ul {
  display: flex;
  flex-direction: row;
  list-style-type: none;
}
header .navigation-menu ul li {
  margin-left: 40%;
  text-decoration: none;
  font-family: fantasy;
  font-size: 20px;
}
header .icon-logo {
  height: 55%;
  width: 100%;
}
header .icon {
  padding-top: 30px;
  padding-left: 50px;
}
footer {

  position: relative;
  width: 100%;
  height: 100px;
  background-color: azure;
  display: flex;
}
footer .author {
    display: flex;
    justify-content: space-around;
}
footer .author p {
padding-top: 35px;
}

/* кнопка вверх*/
.btn-up button {
    height: 50px;
    width: 50px;
    border: none;

}
.btn-up {
    height: 50px;
	position: relative;
	right: -1600px;
    top: 15px;   
   }
   .btn-up img {
    height: 50px;
    width: 50px;

   }
/* кнопка вверх*/

main {
    height: 1200px;
display: flex;
justify-content: center;
align-items: center;
flex-direction: column;
}
main #slider {
  display: flex;
  justify-content: center;
    width: 100%;
    height: 500px;
}

#slider {
  width: auto;
  height: auto;
  margin: 0 auto;
}
#slider img {
  display: block;
}
#nav {
  margin-top: -600px;
  position: absolute;
  height: 100px;
  width: 600px;
  text-align: center;
}
#nav a {
  display:inline-flex;
  margin: 0 5px;
  background-color: #ccc;
  border-radius: 50%;
  width: 0.10px;
  height: 0.10px;
  text-decoration: none;
}
#nav a.active {
  background-color: #e2e61c;
}
/* Слайдер назад или вперёд */
.btn-next {
  position:absolute;
display: flex;
align-items: center;
top: 60%;
right: 20%;
}
.btn-previous {
  position:absolute;
  display: flex;
  align-items: center;
  top: 60%;
  right: 75%;
}


a {  
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
}

a:hover {
  background-color: #ddd;
  color: black;
}

.previous {
  background-color: #f1f1f1;
  color: black;
}

.next {

  background-color: #4CAF50;
  color: white;
}

.round {
  border-radius: 50%;
}
/* Слайдер назад или вперёд */






fetch(`https://images-api.nasa.gov/search`)
  .then(response => response.json())
  .then(body => console.log(body))
  .catch(error => {
    console.error(error);
  });



const apiURL = 'https://images-api.nasa.gov/search?q=apollo%2011&media_type=image';

fetch(apiURL)
  .then(response => response.json())
  .then(data => {
    const images = data.collection.items;
    const slider = document.querySelector('#slider');
    const nav = document.querySelector('#nav');
    let currentIndex = 0;
    images.length = 10


    let intervalId;

    function showImage(index) {
      // очищаем контейнер слайдера
      slider.innerHTML = '';
      // перебираем ссылки на изображения
      for (let i = 0; i < images[index].links.length; i++) {
        const imageUrl = images[index].links[i].href;
        // добавляем изображение в контейнер слайдера
        slider.innerHTML += `<img src="${imageUrl}" alt="NASA Image">`;
      }
    
      const links = nav.querySelectorAll('a');
      links.forEach(link => link.classList.remove('active'));
      links[index].classList.add('active');
    }
    
    function nextImage() {
      currentIndex++;
      if (currentIndex >= images.length) {
        currentIndex = 0;
      }
      showImage(currentIndex);
    }
    
    function prevImage() {
      currentIndex--;
      if (currentIndex < 0) {
        currentIndex = images.length - 1;
      }
      showImage(currentIndex);
    }
    
    images.forEach((image, index) => {
      const link = document.createElement('a');
      link.href = '#';
      link.addEventListener('click', event => {
        event.preventDefault();
        // очищаем таймер
        clearInterval(intervalId);
        showImage(index);
      });
      nav.appendChild(link);
    });
    
    const prevButton = document.querySelector('.previous');
    prevButton.addEventListener('click', () => {
      // очищаем таймер
      clearInterval(intervalId);
      prevImage();
    });
    
    const nextButton = document.querySelector('.next');
    nextButton.addEventListener('click', () => {
      // очищаем таймер
      clearInterval(intervalId);
      nextImage();
    });
    
    showImage(currentIndex);
    // сохраняем идентификатор таймера
    intervalId = setInterval(nextImage, 5000);
  })
  .catch(error => {
    console.error(error);
  });





/*Кнопка вверх*/
$(function () {
  $(window).scroll(function () {
    if ($(this).scrollTop() != 0) {
      $('.btn-up').fadeIn();
    } else {
      $('.btn-up').fadeOut();
    }
  });
  $('.btn-up').click(function () {
    $('body,html').animate({ scrollTop: 0 }, 700);
  });
});
/*Кнопка вверх*/

